-- Criar o banco de dados
create database streamingDB;

-- Selecionar o banco de dados
use streamingDB;

-- Criar a tabela Conteudo
create table Conteudo (
    id int primary key auto_increment, 
    titulo varchar(100), 
    tipo varchar(20), 
    genero varchar(20), 
    ano_lancamento year not null, 
    duracao_minutos int check (duracao_minutos > 0), 
    classificacao_etaria int not null, 
    status_disponibilidade boolean
);

-- Criar a tabela PlanoAssinatura
create table PlanoAssinatura (
    id int primary key auto_increment, 
    nome_plano varchar(50) not null, 
    preco_mensal decimal(10, 2) not null, 
    resolucao_maxima varchar(50), 
    numero_telas int not null
);

-- Criar a tabela Usuario
create table Usuario (
    id int primary key auto_increment, 
    nome varchar(100) not null, 
    email varchar(100) not null unique, 
    telefone varchar(20) not null, 
    data_cadastro date not null, 
    plano_assinatura_id int,
    foreign key (plano_assinatura_id) references PlanoAssinatura(id)
);


create table HistoricoDeVisualizacao (
    id int primary key auto_increment, 
    id_usuario int not null, 
    id_conteudo int not null, 
    data_visualizacao date not null, 
    progresso_percentual decimal(5,2) not null check (progresso_percentual >= 0 and progresso_percentual <= 100),
    foreign key (id_usuario) references Usuario(id),
    foreign key (id_conteudo) references Conteudo(id)
);

create table Avaliacoes (
    id int primary key auto_increment, 
    id_usuario int not null, 
    id_conteudo int not null, 
    nota decimal(2,1) not null check (nota >= 0 and nota <= 5), 
    comentario text, 
    data_avaliacao date not null, 
    foreign key (id_usuario) references Usuario(id),
    foreign key (id_conteudo) references Conteudo(id)
);



insert into Conteudo (titulo, tipo, genero, ano_lancamento, duracao_minutos, classificacao_etaria, status_disponibilidade) values
('Gossip Girl', 'Série', 'Drama', 2007, 60, 16, true),
('Glee', 'Série', 'Comédia Musical', 2009, 42, 10, true),
('Breaking Bad', 'Série', 'Crime', 2008, 47, 18, true),
('Stranger Things', 'Série', 'Ficção Científica', 2016, 60, 14, true),
('The Office', 'Série', 'Comédia', 2005, 22, 12, true),
('Friends', 'Série', 'Comédia', 1994, 22, 10, true),
('The Crown', 'Série', 'Drama', 2016, 60, 16, true),
('Game of Thrones', 'Série', 'Fantasia', 2011, 60, 18, false),
('Narcos', 'Série', 'Crime', 2015, 55, 18, true),
('The Mandalorian', 'Série', 'Aventura', 2019, 40, 12, true),
('Money Heist', 'Série', 'Crime', 2017, 50, 16, true),
('Black Mirror', 'Série', 'Sci-Fi', 2011, 60, 16, true),
('The Witcher', 'Série', 'Fantasia', 2019, 60, 16, true),
('The Queen’s Gambit', 'Série', 'Drama', 2020, 60, 12, true),
('The Umbrella Academy', 'Série', 'Ação', 2019, 45, 16, true),
('Vikings', 'Série', 'Histórico', 2013, 60, 16, true),
('Breaking Bad: El Camino', 'Filme', 'Crime', 2019, 122, 18, true),
('Avengers: Endgame', 'Filme', 'Ação', 2019, 181, 12, true),
('Inception', 'Filme', 'Ficção Científica', 2010, 148, 14, true),
('The Dark Knight', 'Filme', 'Ação', 2008, 152, 14, true),
('The Godfather', 'Filme', 'Crime', 1972, 175, 18, true),
('The Shawshank Redemption', 'Filme', 'Drama', 1994, 142, 14, true),
('Pulp Fiction', 'Filme', 'Crime', 1994, 154, 18, true),
('Forrest Gump', 'Filme', 'Drama', 1994, 142, 10, true),
('Titanic', 'Filme', 'Romance', 1997, 195, 12, true),
('The Matrix', 'Filme', 'Ação', 1999, 136, 14, true),
('Jaws', 'Filme', 'Terror', 1975, 124, 18, true),
('Avatar', 'Filme', 'Ficção Científica', 2009, 162, 12, true),
('Star Wars: A New Hope', 'Filme', 'Aventura', 1977, 121, 12, true),
('Jurassic Park', 'Filme', 'Aventura', 1993, 127, 12, true),
('The Lion King', 'Filme', 'Animação', 1994, 88, 10, true),
('Guardians of the Galaxy', 'Filme', 'Ação', 2014, 121, 12, true),
('Spider-Man: No Way Home', 'Filme', 'Ação', 2021, 148, 12, true),
('Shrek', 'Filme', 'Animação', 2001, 90, 10, true),
('The Pursuit of Happyness', 'Filme', 'Drama', 2006, 117, 12, true),
('Iron Man', 'Filme', 'Ação', 2008, 126, 12, true),
('The Hunger Games', 'Filme', 'Aventura', 2012, 142, 12, true),
('Frozen', 'Filme', 'Animação', 2013, 102, 10, true),
('La La Land', 'Filme', 'Romance', 2016, 128, 10, true),
('Interstellar', 'Filme', 'Ficção Científica', 2014, 169, 12, true);

insert into PlanoAssinatura (nome_plano, preco_mensal, resolucao_maxima, numero_telas) values
('Plano Básico', 29.99, 'HD', 1),
('Plano Padrão', 49.99, 'Full HD', 2),
('Plano Premium', 69.99, '4K', 4),
('Plano Família', 89.99, '4K', 6),
('Plano Student', 19.99, 'HD', 1),
('Plano Individual', 39.99, 'Full HD', 1),
('Plano Entretenimento', 59.99, '4K', 3),
('Plano Executivo', 79.99, '4K', 4),
('Plano Super Premium', 99.99, '8K', 6),
('Plano Light', 25.99, 'HD', 1),
('Plano Master', 79.99, '4K', 5),
('Plano Pro', 89.99, '4K', 4),
('Plano VIP', 119.99, '4K', 6),
('Plano Gamer', 69.99, '4K', 2),
('Plano Family Plus', 99.99, '4K', 6),
('Plano Família Plus', 109.99, '4K', 6),
('Plano Ultra', 109.99, '4K', 4),
('Plano Giga', 149.99, '8K', 6),
('Plano Home', 59.99, 'Full HD', 2),
('Plano Mobile', 19.99, 'HD', 1),
('Plano de Casal', 49.99, 'Full HD', 2),
('Plano Empresas', 149.99, '4K', 10),
('Plano de Longo Prazo', 59.99, 'Full HD', 2),
('Plano Conforto', 79.99, '4K', 3),
('Plano Duo', 49.99, 'Full HD', 2),
('Plano Corporativo', 199.99, '4K', 10),
('Plano Flex', 39.99, 'Full HD', 2),
('Plano Flexível', 69.99, '4K', 3),
('Plano Infantil', 19.99, 'HD', 1),
('Plano Conecte', 79.99, '4K', 5),
('Plano Max', 89.99, '4K', 6),
('Plano Global', 129.99, '4K', 6),
('Plano Exclusivo', 139.99, '4K', 4),
('Plano Prime', 79.99, '4K', 4),
('Plano Intenso', 129.99, '8K', 6),
('Plano Starter', 24.99, 'HD', 1),
('Plano Digital', 69.99, '4K', 3),
('Plano FlexPro', 89.99, '4K', 5);

insert into Usuario (nome, email, telefone, data_cadastro, plano_assinatura_id) values
('João Silva', 'joao.silva@email.com', '11987654321', '2025-01-01', 1),
('Maria Oliveira', 'maria.oliveira@email.com', '11987654322', '2025-01-05', 2),
('Carlos Souza', 'carlos.souza@email.com', '11987654323', '2025-01-10', 3),
('Ana Costa', 'ana.costa@email.com', '11987654324', '2025-01-15', 4),
('Roberto Lima', 'roberto.lima@email.com', '11987654325', '2025-01-20', 5),
('Patrícia Alves', 'patricia.alves@email.com', '11987654326', '2025-01-25', 6),
('Luciana Martins', 'luciana.martins@email.com', '11987654327', '2025-02-01', 7),
('José Pereira', 'jose.pereira@email.com', '11987654328', '2025-02-05', 8),
('Fernanda Rocha', 'fernanda.rocha@email.com', '11987654329', '2025-02-10', 9),
('Ricardo Barbosa', 'ricardo.barbosa@email.com', '11987654330', '2025-02-15', 10),
('Juliana Mendes', 'juliana.mendes@email.com', '11987654331', '2025-02-20', 11),
('Eduardo Silva', 'eduardo.silva@email.com', '11987654332', '2025-02-25', 12),
('Mariana Gomes', 'mariana.gomes@email.com', '11987654333', '2025-03-01', 13),
('Roberta Costa', 'roberta.costa@email.com', '11987654334', '2025-03-05', 14),
('Felipe Pereira', 'felipe.pereira@email.com', '11987654335', '2025-03-10', 15),
('Luciano Ramos', 'luciano.ramos@email.com', '11987654336', '2025-03-15', 16),
('Gabriela Almeida', 'gabriela.almeida@email.com', '11987654337', '2025-03-20', 17),
('André Oliveira', 'andre.oliveira@email.com', '11987654338', '2025-03-25', 18),
('Carla Souza', 'carla.souza@email.com', '11987654339', '2025-04-01', 19),
('Paulo Silva', 'paulo.silva@email.com', '11987654340', '2025-04-05', 20),
('Vanessa Lima', 'vanessa.lima@email.com', '11987654341', '2025-04-10', 21),
('Gustavo Barbosa', 'gustavo.barbosa@email.com', '11987654342', '2025-04-15', 22),
('Helena Almeida', 'helena.almeida@email.com', '11987654343', '2025-04-20', 23),
('Leonardo Costa', 'leonardo.costa@email.com', '11987654344', '2025-04-25', 24),
('Catarina Rocha', 'catarina.rocha@email.com', '11987654345', '2025-04-30', 25),
('Sérgio Martins', 'sergio.martins@email.com', '11987654346', '2025-05-01', 26),
('Isabela Pereira', 'isabela.pereira@email.com', '11987654347', '2025-05-05', 27),
('Victor Gomes', 'victor.gomes@email.com', '11987654348', '2025-05-10', 28),
('Simone Souza', 'simone.souza@email.com', '11987654349', '2025-05-15', 29),
('Ricardo Costa', 'ricardo.costa@email.com', '11987654350', '2025-05-20', 30),
('Fábio Ramos', 'fabio.ramos@email.com', '11987654351', '2025-05-25', 31),
('Marcelo Silva', 'marcelo.silva@email.com', '11987654352', '2025-06-01', 32),
('Tatiane Oliveira', 'tatiane.oliveira@email.com', '11987654353', '2025-06-05', 33),
('Raquel Almeida', 'raquel.almeida@email.com', '11987654354', '2025-06-10', 34),
('Bruno Rocha', 'bruno.rocha@email.com', '11987654355', '2025-06-15', 35),
('Luciana Souza', 'luciana.souza@email.com', '11987654356', '2025-06-20', 36),
('Marta Ramos', 'marta.ramos@email.com', '11987654357', '2025-06-25', 37),
('Paula Lima', 'paula.lima@email.com', '11987654358', '2025-06-30', 38),
('Raul Silva', 'raul.silva@email.com', '11987654359', '2025-07-01', 39),
('Débora Pereira', 'debora.pereira@email.com', '11987654360', '2025-07-05', 40);

INSERT INTO HistoricoDeVisualizacao (id_usuario, id_conteudo, data_visualizacao, progresso_percentual) VALUES
(1, 1, '2025-01-01', 100.00),
(2, 2, '2025-01-02', 50.00),
(3, 3, '2025-01-03', 30.00),
(4, 4, '2025-01-04', 100.00),
(5, 5, '2025-01-05', 75.00),
(6, 6, '2025-01-06', 20.00),
(7, 7, '2025-01-07', 90.00),
(8, 8, '2025-01-08', 60.00),
(9, 9, '2025-01-09', 100.00),
(10, 10, '2025-01-10', 10.00),
(11, 11, '2025-01-11', 100.00),
(12, 12, '2025-01-12', 50.00),
(13, 13, '2025-01-13', 80.00),
(14, 14, '2025-01-14', 100.00),
(15, 15, '2025-01-15', 45.00),
(16, 16, '2025-01-16', 100.00),
(17, 17, '2025-01-17', 25.00),
(18, 18, '2025-01-18', 70.00),
(19, 19, '2025-01-19', 100.00),
(20, 20, '2025-01-20', 55.00),
(21, 21, '2025-01-21', 95.00),
(22, 22, '2025-01-22', 10.00),
(23, 23, '2025-01-23', 60.00),
(24, 24, '2025-01-24', 100.00),
(25, 25, '2025-01-25', 80.00),
(26, 26, '2025-01-26', 40.00),
(27, 27, '2025-01-27', 30.00),
(28, 28, '2025-01-28', 100.00),
(29, 29, '2025-01-29', 90.00),
(30, 30, '2025-01-30', 50.00),
(31, 31, '2025-02-01', 75.00),
(32, 32, '2025-02-02', 20.00),
(33, 33, '2025-02-03', 100.00),
(34, 34, '2025-02-04', 65.00),
(35, 35, '2025-02-05', 100.00),
(36, 36, '2025-02-06', 40.00),
(37, 37, '2025-02-07', 60.00),
(38, 38, '2025-02-08', 80.00),
(39, 39, '2025-02-09', 95.00),
(40, 40, '2025-02-10', 50.00);

INSERT INTO Avaliacoes (id_usuario, id_conteudo, nota, comentario, data_avaliacao) VALUES
(1, 1, 5.0, 'Excelente filme, muito bom!', '2025-01-01'),
(2, 2, 4.0, 'Gostei, mas poderia ser melhor.', '2025-01-02'),
(3, 3, 3.5, 'Interessante, mas um pouco arrastado.', '2025-01-03'),
(4, 4, 5.0, 'Ótima série, recomendo!', '2025-01-04'),
(5, 5, 4.5, 'Muito bom, mas o final poderia ser diferente.', '2025-01-05'),
(6, 6, 2.0, 'Não gostei muito, a história não me envolveu.', '2025-01-06'),
(7, 7, 5.0, 'Perfeito, me prendeu do começo ao fim.', '2025-01-07'),
(8, 8, 3.0, 'Legal, mas faltou mais ação.', '2025-01-08'),
(9, 9, 5.0, 'Uma das melhores séries que já assisti.', '2025-01-09'),
(10, 10, 2.5, 'Me decepcionou um pouco, não gostei do enredo.', '2025-01-10'),
(11, 11, 4.0, 'Boa história, mas tem algumas falhas.', '2025-01-11'),
(12, 12, 5.0, 'Adorei, super recomendo!', '2025-01-12'),
(13, 13, 4.5, 'Muito bom, mas a duração podia ser menor.', '2025-01-13'),
(14, 14, 3.5, 'Bem interessante, mas faltou mais profundidade.', '2025-01-14'),
(15, 15, 4.0, 'Bom filme, mas podia ser melhor em alguns aspectos.', '2025-01-15'),
(16, 16, 5.0, 'Perfeito, muito bem feito!', '2025-01-16'),
(17, 17, 3.0, 'Achei monótono em alguns momentos.', '2025-01-17'),
(18, 18, 4.0, 'Bom filme, recomendo.', '2025-01-18'),
(19, 19, 4.5, 'Uma ótima obra, gostei muito.', '2025-01-19'),
(20, 20, 3.5, 'Bacana, mas acho que poderia ser melhor.', '2025-01-20'),
(21, 21, 5.0, 'Adorei, uma das melhores produções!', '2025-01-21'),
(22, 22, 2.0, 'Não gostei, história fraca.', '2025-01-22'),
(23, 23, 4.5, 'Muito bom, mas teve alguns momentos previsíveis.', '2025-01-23'),
(24, 24, 5.0, 'Incrível, recomendo a todos!', '2025-01-24'),
(25, 25, 4.0, 'Gostei, mas faltou mais desenvolvimento dos personagens.', '2025-01-25'),
(26, 26, 2.5, 'Achei mediano, não me empolgou muito.', '2025-01-26'),
(27, 27, 4.5, 'Filme muito bom, mas com um final aberto demais.', '2025-01-27'),
(28, 28, 4.0, 'Muito bom, mas esperava algo mais impactante.', '2025-01-28'),
(29, 29, 3.0, 'Interessante, mas poderia ser mais bem explorado.', '2025-01-29'),
(30, 30, 5.0, 'Amei, uma das melhores séries que assisti!', '2025-01-30'),
(31, 31, 3.5, 'Legal, mas deixou a desejar em alguns pontos.', '2025-02-01'),
(32, 32, 4.0, 'Bom filme, mas faltou um pouco de ação.', '2025-02-02'),
(33, 33, 5.0, 'Perfeito, adorei o enredo e a produção.', '2025-02-03'),
(34, 34, 4.5, 'Muito bom, mas poderia ser mais curto.', '2025-02-04'),
(35, 35, 5.0, 'Sensacional, vale cada minuto.', '2025-02-05'),
(36, 36, 2.0, 'Não gostei, achei lento demais.', '2025-02-06'),
(37, 37, 3.5, 'Legal, mas faltou mais dinamismo.', '2025-02-07'),
(38, 38, 5.0, 'Excelente, super recomendável!', '2025-02-08'),
(39, 39, 4.0, 'Bom, mas não é a melhor produção que vi.', '2025-02-09');
